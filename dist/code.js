!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}({12:function(e,t){!async function(e){if(1==e.length){if("VECTOR"==e[0].type){let t,n,i=e[0].fills,o=e[0].strokes,r=i[i.length-1],l=o[o.length-1];t=i.length>0&&("SOLID"===r.type&&1==r.opacity&&1==r.visible),n=o.length>0&&("OUTSIDE"!==e[0].strokeAlign&&"SOLID"===l.type&&1==l.opacity&&1==l.visible),1==t||1==n?(figma.showUI(__html__,{visible:!0}),figma.ui.postMessage("initialize"),await new Promise((function(t,n){figma.ui.onmessage=function(i){t(async function(e,t){let n=e;if("CLOSE"===t.type)figma.closePlugin();else if("RASTERIZE"===t.type){n=1==t.flatten?figma.flatten(n):n[0],1==t.roundSize&&n.resize(Math.round(n.width),Math.round(n.height));let e={};n.vectorPaths.forEach((function(t,n){e[n]=t}));let i={height:n.strokes.length>0?n.height+n.strokeWeight:n.height,width:n.strokes.length>0?n.width+n.strokeWeight:n.width,x:1==t.roundPosition?Math.round(n.x):n.x,y:1==t.roundPosition?Math.round(n.y):n.y,strokeWeight:n.strokeWeight,strokeAlign:n.strokeAlign,strokes:n.strokes,paths:e,fill:n.fills};figma.ui.postMessage(i)}else"REPLACE"===t.type&&(console.log(t),function(e,t){console.log("replace path!");let n=Uint8Array.from(Object.values(t)),i={blendMode:"NORMAL",filters:{exposure:0,contrast:0,saturation:0,temperature:0,tint:0},imageHash:figma.createImage(n).hash,imageTransform:[[1,0,0],[0,1,0]],opacity:1,scaleMode:"CROP",scalingFactor:1,type:"IMAGE",visible:!0},o=figma.createRectangle(),r=figma.group([e,o],e.parent);r.name=e.name,e.x=Math.round(e.x),e.y=Math.round(e.y),o.x=e.strokes.length>0?e.x-e.strokeWeight/2:e.x,o.y=e.strokes.length>0?e.y-e.strokeWeight/2:e.y,o.name="Bitmap",o.fills=e.fills,e.name="Vector",e.locked=!0,e.visible=!1,o.resize(e.strokes.length>0?e.width+e.strokeWeight:e.width,e.strokes.length>0?e.height+e.strokeWeight:e.height),r.x=e.x,r.y=e.y;const l=function e(t){const n=typeof t;if(null===t)return null;if("undefined"===n||"number"===n||"string"===n||"boolean"===n)return t;if("object"===n){if(t instanceof Array)return t.map(t=>e(t));if(t instanceof Uint8Array)return new Uint8Array(t);{let n={};for(const i in t)n[i]=e(t[i]);return n}}throw"unknown"}(e.fills);l[0]=i,o.fills=l}(n[0],t.bitmapData),figma.closePlugin())}(e,i)),n(console.log("Failed to rasterize selection"))}}))):(alert("Path's last stroke or fill must solid and visible"),figma.closePlugin())}else alert("Selection must be a path"),figma.closePlugin()}else 0==e.length?(alert("Please select at least one path"),figma.closePlugin()):(alert("Please select a single path only"),figma.closePlugin())}(figma.currentPage.selection)}});